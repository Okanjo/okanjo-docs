<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Causes : Okanjo API Core Specification</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="assets_/css/shCore.css">
        <link rel="stylesheet" href="assets_/css/shThemeDefault.css">
        <link rel="stylesheet" href="assets_/css/main.css">
    </head>
    <body data-root-path="">
        <div id="wrapper">
            <div id="content">

<ul id="topnav">
    <li><a href="index.html">Index</a></li>
    <li><a href="#toc">TOC</a></li>
</ul>
<h1 id="causes">Causes</h1>

<p>Causes represent non-profit, 501(c)-class organizations. They may receive charitable donations directly and through
sales of pledged products.</p>

<h1 id="objects">Objects</h1>

<ul>
<li><a href="Objects.html#Cause"><code>Cause</code></a> – 501(c)-class organization.</li>
</ul>

<h1 id="routes">Routes</h1>

<h2 id="tableofcontentsahreftocnametocclassdeeplinka">Table of Contents <a href="#toc" name="toc" class="deep-link">#</a></h2>

<ul>
<li><a href="#GET /causes">GET /causes</a></li>
<li><a href="#GET /causes/{id}">GET /causes/{id}</a></li>
<li><a href="#PUT /causes/{id}">PUT /causes/{id}</a></li>
</ul>

<h2 id="getcausesahrefgetcausesidgetcausesclassdeeplinka">GET /causes <a href="#GET /causes" id="GET /causes" class="deep-link">#</a></h2>

<p>Collection. By default, it returns all causes alphabetically.</p>

<h3 id="queryparameters">Query Parameters</h3>

<p>All fields are optional. Accepts the standard pagination parameters as well.</p>

<p><em>Filtering</em></p>

<dl class="inline-def"><dt><p><code>search</code></p></dt><dd><p><code>string (255)</code> Returns causes that match the search query. Each keyword given is inclusive. Only keywords over three characters in length are used.</p></dd><dt><p><code>id</code></p></dt><dd><p><code>int csv</code> Returns causes with the specific id or in the list of given ids. e.g. <code>id=1</code> or <code>id=1,2,3</code>.</p></dd><dt><p><code>status</code></p></dt><dd><p><code>int enum</code> Returns causes that are of a specific status. See <a href="Constants.html#CauseStatus"><code>CauseStatus</code></a>.</p></dd><dt><p><code>admin_id</code></p></dt><dd><p><code>int</code> Returns causes that are managed by a specific <a href="Objects.html#User"><code>User</code></a>.</p></dd><dt><p><code>store_id</code></p></dt><dd><p><code>int</code> Returns causes that are associated with a specific <a href="Objects.html#Store"><code>Store</code></a>.</p></dd><dt><p><code>has_products</code></p></dt><dd><p><code>bit</code> Returns causes that have products listed or products donating to them. Affected by the <code>product_types</code> filter.</p></dd><dt><p><code>fetch_external</code></p></dt><dd><p><code>bit</code> When set to 0 (default) only active Okanjo causes are found. When set to <code>1</code>, searches 3rd-party services for causes with the given search criteria and returns the results. Only use <code>fetch_external=1</code> inside Sell and Give workflows because users may want to pledge to a cause that hasn’t been activated by Okanjo. Failure to abide by this policy will result in termination of your API key, account, or worse.</p></dd><dt><p><code>product_region</code></p></dt><dd><p><code>int</code> DMA region code that associated products must be in. Used in association with <code>has_products</code> and <code>product_types</code>. See <a href="Regions.html">Regions</a>.</p></dd><dt><p><code>local_to</code></p></dt><dd><p><code>int</code> DMA region code that the cause must be registered in. See <a href="Regions.html">Regions</a>.</p></dd><dt><p><code>product_types</code></p></dt><dd><p><code>int enum csv</code> Specify the association of products used for the <code>product_count</code> property on the cause and the <code>has_products</code> filter. Defaults to <code>OWNED</code> and <code>INHERITED</code>. See <a href="Constants.html#ProductStoreType">ProductStoreType</a>.</p></dd></dl>

<p><em>Fields &amp; Includes</em></p>

<dl class="inline-def"><dt><p><code>fields</code></p></dt><dd><p><code>csv</code> When given, only returns the given fields.</p></dd><dt><p><code>embed</code></p></dt><dd><p><code>csv</code> When given, includes additional related data. Accepts: <code>store</code>.</p></dd></dl>

<h3 id="returns">Returns</h3>

<ul>
<li>Array of <a href="Objects.html#Cause"><code>Cause</code></a> objects.</li>
<li><code>X-COLLECTION-COUNT</code> header set to the total number of causes that match the given query, usable for pagination.</li>
</ul>

<h3 id="errors">Errors</h3>

<dl><dt><p><strong>500 Internal Server Error</strong></p></dt><dd><p><code>Failed to retrieve causes.</code> Occurs when the request failed to be fulfilled.</p></dd></dl>

<h2 id="getcausesidahrefgetcausesididgetcausesidclassdeeplinka">GET /causes/{id} <a href="#GET /causes/{id}" id="GET /causes/{id}" class="deep-link">#</a></h2>

<p>Resource. Returns a specific cause given its unique identifier.</p>

<h3 id="queryparameters">Query Parameters</h3>

<p><em>Fields &amp; Includes</em></p>

<dl class="inline-def"><dt><p><code>fields</code></p></dt><dd><p><code>csv</code> When given, only returns the given fields.</p></dd><dt><p><code>embed</code></p></dt><dd><p><code>csv</code> When given, includes additional related data. Accepts: <code>store</code>.</p></dd></dl>

<h3 id="returns">Returns</h3>

<p><a href="Objects.html#Cause"><code>Cause</code></a> object.</p>

<h3 id="errors">Errors</h3>

<dl><dt><p><strong>404 Not Found</strong></p></dt><dd><p><code>Cause not found.</code> Occurs when the given cause was not found.</p></dd><dt><p><strong>500 Internal Server Error</strong></p></dt><dd><p><code>Failed to retrieve cause.</code> Occurs when the request failed to be fulfilled.</p></dd></dl>

<h2 id="putcausesidahrefputcausesididputcausesidclassdeeplinka">PUT /causes/{id} <a href="#PUT /causes/{id}" id="PUT /causes/{id}" class="deep-link">#</a></h2>

<p>Resource. Modifies a cause. Used by cause administrators to update their organization’s information. <strong>Requires user level authentication.</strong></p>

<h3 id="entitynvpparameters">Entity NVP Parameters</h3>

<dl class="inline-def"><dt><p><code>location</code></p></dt><dd><p><code>string (10)</code> The zip code of the location. The city/state fields will be automatically populated.</p></dd><dt><p><code>meta</code></p></dt><dd><p><code>string[]</code>  Array of key/value properties to attach to the object. Metadata is per-API key. Anything included will replace any existing properties on the object.</p></dd></dl>

<h3 id="returns">Returns</h3>

<p>The updated <a href="Objects.html#Cause"><code>Cause</code></a> object.</p>

<h3 id="errors">Errors</h3>

<dl><dt><p><strong>400 Bad Request</strong></p></dt><dd><p><code>{field} too long.</code> Occurs when the given field was too long.</p></dd><dd><p><code>Invalid {field}.</code> Occurs when the value for the given field is not valid.</p></dd><dd><p><code>Invalid field: {field}</code> Occurs when the given field was invalid.</p></dd><dt><p><strong>403 Forbidden</strong></p></dt><dd><p><code>Not authorized to manage cause.</code> Occurs when the current user does not have permission to manage the given cause.</p></dd><dt><p><strong>404 Not Found</strong></p></dt><dd><p><code>Cause not found.</code> Occurs when the given cause was not found.</p></dd><dt><p><strong>500 Internal Server Error</strong></p></dt><dd><p><code>Failed to update cause.</code> Occurs when the request failed to be fulfilled.</p></dd></dl>
                <hr />
                <small>Documentation generated by <a href="https://github.com/millermedeiros/mdoc">mdoc</a>.</small>
            </div>
        </div>
        <script src="assets_/js/lib/jquery.js"></script>
        <script src="assets_/js/lib/syntax-highlighter/shCore.js"></script>
        <script src="assets_/js/lib/syntax-highlighter/shAutoloader.js"></script>
        <script src="assets_/js/main.js"></script>
    </body>
</html>

